{% extends "base.html" %}

{% block content %}
<div class="post-wrapper">
    <h3>Ref: {{ post.id }}</h3>
    <h2>{{ post.title }}</h2>
    <p >
        
        <br>Created: {{ moment(post.timestamp).fromNow() }} 
        <br>Posted by: {{ post.author.username }} 
        <br>Team: {{ post.team_posts.name }} <br></p>
        
        
    
    <h4>Description:</h4>
    <p class="post-description">{{ post.description }}</p>
    
    <div class="post-comments">
        <h2>Comments: </h2>
        {% for comment in comments %}
            <table>
                <tr valign="top">
                    <td>
                        <p class="comment-content">{{ comment.body }}</p>
                        Comment by: {{ comment.comment_author.username }} <br>
                        {{ moment(comment.timestamp).fromNow() }} 
                    </td>
                </tr>
            </table>    
        {% endfor %}


        <form action="" method="post">
            {{ commentForm.hidden_tag() }}
            <p>
                {{ commentForm.body.label }}<br>
                {{ commentForm.body(cols=200, rows=10) }}<br>
                {% for error in commentForm.body.errors %}
                <span style="color: red;">[{{ error }}]</span>
                {% endfor %}
            </p>
            <p>{{ commentForm.submit2() }}</p>
        </form>
    </div>
</div>
{% endblock %}